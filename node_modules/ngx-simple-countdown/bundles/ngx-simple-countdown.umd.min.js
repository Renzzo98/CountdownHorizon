!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-simple-countdown",["exports","@angular/core","rxjs","rxjs/operators"],e):e(t["ngx-simple-countdown"]={},t.ng.core,t.rxjs,t.rxjs.operators)}(this,function(t,e,s,n){"use strict";var o=function(){function t(t){this.elementRef=t,this.language="en",this.reactive=!0,this.endMessage="countdown finish",this.hideUnit="",this.styles="font-size:20px;color:#FFF;background-color:#000;padding:10px 5px;font-weight:bold;min-width:40px;text-align:center;"}return t.prototype.ngOnInit=function(){this.getDateNow(),this.setLanguage(this.language),this.initSimpleCountdown()},t.prototype.ngOnDestroy=function(){},t.prototype.initSimpleCountdown=function(){var e=this;this.totalSecondes=this.dateTo-this.dateNow,this.countdownResult=this.updateSimpleCountdown(this.totalSecondes),this.createHTML(),this.interval$=s.interval(1e3).pipe(n.takeUntil(this.componentDestroyed(this)),n.filter(function(t){return e.reactive&&0<e.totalSecondes}),n.tap(function(t){return e.totalSecondes--}),n.tap(function(t){return e.countdownResult=e.updateSimpleCountdown(e.totalSecondes)}),n.tap(function(t){return e.createHTML()})),this.interval$.subscribe()},t.prototype.createHTML=function(){var t="";0<this.totalSecondes?(t='<div style="display:flex;">',this.isContent("d")&&0<this.countdownResult.day&&(t+='<div style="'+this.styles+'">\n          '+this.countdownResult.day+this.keywords.day+"\n          </div>"),this.isContent("h")&&(0<this.countdownResult.hours||0<this.countdownResult.day)&&(t+='<div style="'+this.styles+'">\n          '+this.countdownResult.hours+this.keywords.hours+"\n        </div>"),this.isContent("m")&&(0<this.countdownResult.minutes||0<this.countdownResult.hours||0<this.countdownResult.day)&&this.reactive&&(t+='<div style="'+this.styles+'">\n          '+this.countdownResult.minutes+this.keywords.minutes+"\n        </div>"),this.isContent("s")&&((0<this.countdownResult.seconds||0<this.countdownResult.minutes||0<this.countdownResult.hours||0<this.countdownResult.day)&&this.reactive&&(t+='<div style="'+this.styles+'">\n          '+this.countdownResult.seconds+this.keywords.seconds+"\n        </div>"),t+="</div>")):""!==this.endMessage&&(t+='<div style="'+this.styles+'">'+this.endMessage+"</div>"),this.elementRef.nativeElement.innerHTML=t},t.prototype.isContent=function(t){return!this.hideUnit.includes(t)},t.prototype.updateSimpleCountdown=function(t){var e=Math.floor(t/1%60),n=Math.floor(t/1/60%60),s=Math.floor(t/3600%24);return{day:Math.floor(t/86400),hours:s,minutes:n,seconds:e}},t.prototype.getDateNow=function(){this.dateNow=Math.floor(Date.now()/1e3)},t.prototype.setLanguage=function(t){this.keywords="fr"===t?{seconds:"s",minutes:"m",hours:"h",day:"j"}:"de"===t?{seconds:"z",minutes:"m",hours:"s",day:"t"}:"es"===t||"pt"===t?{seconds:"s",minutes:"m",hours:"s",day:"d"}:"cs"===t?{seconds:"s",minutes:"m",hours:"h",day:"d"}:"pl"===t?{seconds:"s",minutes:"m",hours:"g",day:"d"}:{seconds:"s",minutes:"m",hours:"h",day:"d"}},t.prototype.componentDestroyed=function(t){var e=t.ngOnDestroy,n=new s.ReplaySubject(1);return t.ngOnDestroy=function(){e.apply(t),n.next(undefined),n.complete()},n},t.decorators=[{type:e.Directive,args:[{selector:"[simpleCountdown]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef}]},t.propDecorators={dateTo:[{type:e.Input}],language:[{type:e.Input}],reactive:[{type:e.Input}],endMessage:[{type:e.Input}],hideUnit:[{type:e.Input}],styles:[{type:e.Input}]},t}(),i=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[o],imports:[],exports:[o]}]}],t}();t.NgxSimpleCountdownModule=i,t.NgxSimpleCountdownDirective=o,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-simple-countdown.umd.min.js.map